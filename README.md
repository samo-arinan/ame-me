# 青空文庫リーダー

縦書き巻物風の読書体験を提供するProgressive Web App

## 機能

### 基本機能
- 青空文庫から作品を検索・表示
- 縦書きレイアウトで日本の伝統的な読書体験
- 巻物のような横スクロールインターフェース
- PWA対応（オフライン読書可能）
- 響応的デザイン（スマートフォン・タブレット対応）

### 高度な機能
- OpenAI APIによる感情分析
- 感情に連動した雨のビジュアルエフェクト
  - 悲しい場面：雨が強く降る
  - 楽しい場面：虹が出現
  - 緊張する場面：風を伴う斜めの雨
  - 怒りの場面：雷を伴う激しい雨
- 文字サイズ調整
- 読書位置の保存（IndexedDB）

## 技術スタック

- **フロントエンド**: Svelte + SvelteKit
- **データベース**: IndexedDB (idb)
- **アニメーション**: HTML5 Canvas
- **PWA**: Service Worker
- **感情分析**: OpenAI GPT-4o mini API

## 開発・起動方法

```bash
# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev

# プロダクションビルド
npm run build

# プロダクション確認
npm run preview
```

## 設定

### OpenAI API
感情分析機能を使用するには、OpenAI API キーが必要です。

1. アプリの設定ボタンをクリック
2. OpenAI API キーを入力
3. 保存

キーはブラウザのLocalStorageに保存され、外部に送信されません。

## 青空文庫について

このアプリは[青空文庫](https://www.aozora.gr.jp/)の公開データを使用しています。

### データアクセス方法

現在は以下の方法でデータを取得しています：

1. **作品一覧**: 人気作品のサンプルデータ（太宰治、芥川龍之介、夏目漱石など）
2. **テキストデータ**: [青空文庫GitHub](https://github.com/aozorahack/aozorabunko_text)から直接取得
3. **フォールバック**: GitHubアクセスが失敗した場合はサンプルテキストを表示

### 注意事項

- 現在利用可能な青空文庫APIサービスは不安定なため、デモ用サンプルデータを使用
- 実際のテキストは青空文庫の公式GitHubリポジトリから取得
- 今後、安定したAPIが利用可能になった際に切り替え予定

## ライセンス

MIT License

## 開発メモ

プロジェクトの詳細な設計と開発方針については `CLAUDE.md` を参照してください。